■ 디스크 관리 도구
* 디스크 관리는 로컬 또는 원격의 디스크 정보를 보거나 디스크 관리를 수행하는 도구이다.

* 파티션과 볼륨 만들기 및 포맷, 드라이브 문자 할당과 같은 디스크 관련 작업을 수행할 수 있다,
  - Win+R, "diskmgmt.msc" (디스크 관리)
	   "compmgmt.msc" (컴퓨터 관리) >> 저장소 >> 디스크 관리

* CLI 환경에서의 디스크 관리는 diskpart 명령어를 이용
* Diskpart 명령을 사용하려면 먼저 포커스를 표시할 개체를 찾아서 선택한다
* 개체에 포커스가 있으면 입력한 모든 Diskpart 명령이 해당 개체에서 실행된다.
* 원격지 드라이브에 대해 좀 더 고급의 조작을 수행하기 위해 사용
* Diskpart는 반복적인 작업을 Script를 사용하여 관리할 수 있다.
  - Win+R "cmd" >> diskpart

■ 파티션이란? 
* 물리적 디스크를 분리해놓은 것을 파티션이라 한다.

* 파티션의 종류
  - 주 파티션 : 운영체제에 의해 잠재적으로 부팅 가능한 논리 드라이브라고 표시되어있는 하드디스크의 일부
  - 확장 파티션 : 논리 드라이브로 나눠질 수 있는 부팅이 가능하지 않은 부분
  - 논리 드라이브 : 단일 유닛으로 동작하는 하드디스크의 일부분 또는 파티션

* 주파티션은 분할할 수 없지만, 확장 파티션은 논리 드라이브로 분할 가능.

■ MBR vs GPT
				MBR			GPT
부팅 가능 파티션 개수		4개			무제한 (Windows : 128개)
파티션당 최대 크기		2.2 TB			9.4 ZB
				(2.2*(10^12) Byte)	(9.4*(10^21) Byte)

* MBR 디스크에서는 주 파티션 4개 또는 주 파티션 3개, 확장 파티션 1개로 구성해야하지만,
  GPT에서는 확장파티션으로 구성팔 필요가 없다.

* MBR >> GPT 변경 방법
  - Select Disk >> Convert gpt

■ 파티션 생성 및 삭제
* 디스크 준비
  - List Disk (디스크 목록 확인)
  - Select Disk n (n=디스크 번호)
  - Online Disk (디스크를 온라인 상태로 변경)
  - Attribute Disk Clear Readonly (읽기 전용 속성 제거)

* 파티션 생성
  - Create partition primary size = 파티션 크기 (주 파티션)
  - Create partition extended size = 파티션 크기 (확장 파티션)
  - Create partition logical size = 파티션 크기 (논리 드라이브)

* 파티션 삭제
  - List Partition (파티션 목록 확인)
  - Select Partition n (n=파티션 번호)
  - Delete Partition 

■ 문자 할당
* 드라이브에 접근하기 위하여 사용
* 일반적으로 24개의 문자 할당 (최대 26개의 문자 할당)
  - 일반적으로 C~Z까지 할당
  - A와 B는 플로피 디스크 드라이브용으로 예약
  - 플로피 디스크 드라이브가 없다면 A와 B 할당 가능
* 시스템 볼륨이나 부팅 볼륨의 드라이브 문자는 바꿀 수 없다.
* 사용중인 문자 할당 불가능
* 문자 할당
  - List Partition (파티션 목록 확인)
  - Select Partition n (n=파티션 번호)
  - Assign lettet=G (파티션에 G 문자 할당)
* 문자 할당 제거
  - Select Partition n (n=파티션 번호)
  - Remove Letter = G (파티션에 할당된 G 문자 제거)

■ 드라이브 경로 할당 (Mount)
* 드라이브 문자 대신 드라이브 경로 할당
* 문자 제한 없이 많은 드라이브에 액세스 할 수 있다.
* 기본 NTFS 볼륨이나 동적 NTFS 볼륨에 있는 빈 폴더에만 사용
* 드라이브 경로 할당 
  - C:\mount 폴더 생성
  - List partition (파티션 목록 확인)
  - select partition n (n=파티션 번호)
  - Assign mount = C:\mount
* 드라이브 경로 제거
  - Select partition n (n=파티션 번호)
  - Remove mount=C:\mount

■ 파티션 확장 및 축소
* Windows Server 2008에서는 주 파티션의 경우에도 볼륨 확장 및 축소 가능
* 확장은 디스크의 남은 공간만큼 확장 가능
* 축소는 사용중인 공간을 제외한 공간만큼 축소 가능
* 축소를 할 때 데이터 손실을 대비하여 백업하는 것이 좋다.
  - 파티션 우클릭 >> 볼륨 확장 / 축소

* 확장
  - Diskpart
  - List disk (디스크 목록 확인)
  - Select Disk n (n=디스크 번호)
  - List Partition (파티션 목록 확인)
  - Select Partition n (n=파티션 번호)
  - Extend Size = <크기>
* 축소
  - Select Partition (n=파티션 번호)
  - Shrink Querymax (축소 가능한 용량 확인)
  - Shrink Desired=<크기>

■ 포맷 및 파일 시스템 변경
* 디스크 포맷은 Windosw가 디스크에 정보를 저장할 수 있도로 ㄱ디스크를 파일 시스템으로 구성하는 것이다.
  - C:\>formal G:/fs:fat32
  - C:\>formal C:\mount /fs:fat32

* NTFS 파일 시스템은 이전 버전의 Windows에서 사용된 FAT 파일시스템보다 하드디스크 및 파일 또는 볼륨의 데이터에 대해 보다 나은 성능과 보안을 제공
* 이전 FAT16 또는 FAT32 파일 시스템을 NTFS로 변경 가능
* MTFS에서 FAT16 또는 FAT32로 변경 불가능
* 일부 이전 버전의 Windows에서는 로컬 NTFS 파티션의 데이터를 읽을 수 없다.
  - C:\>convert G:/fs:ntfs
  - C:\>convert C:\mount /fs:ntfs

============================================================================================================================
============================================================================================================================
============================================================================================================================

■ 동적 디스크
* 기본 디스크 vs 동적 디스크
* 동적 디스크 변환
* 단순 볼륨
* 볼륨 확장 및 축소
* 스팬 볼륨
* 스트라이프 볼륨 (Raid-0)
* 미러 볼륨 (Raid-1)
* Raid-5

■ 기본 디스크 vs 동적 디스크
		특징
기본 디스크	파티션으로 구분
		여러개의 물리적 디스크를 하나의 논리 디스크로 구성 불가
		4개의 주파티션 또는 3개의 주파티션, 1개의 확장 파티션으로 나눈다. (MBR)
		무제한으로 파티션 생성이 가능하지만, Windows에서는 128개의 주 파티션으로 제한된다. (GPT)
		디스크 오류 발생시 복구를 지원하지 않는다.
동적 디스크	파티션 대신 볼륨으로 구분
		여러 개의 물리적 디스크를 하나의 논리 디스크로 구성 가능
		볼륨 수에 제한이 없다.
		디스크에 오류 발생시 복구를 지원하는 디스크 구조를 만들 수 있다. (Raid-1, Raid-5)

■ 동적 디스크 변환
* 기본 디스크에서 동적 디스크로 변환시 데이터 손실 없이 변환 가능
* 모든 디스크를 변환할 수 있는 것은 아니다.
  - 이동식 디스크는 동적 디스크로 변환 불가
* 기본 디스크에 파티션은 단순 볼륨으로 변환된다
* 동적 디스크에서 기본 디스크로 되돌리기 위해서는 기존 볼륨을 모두 제거해야한다.
  - 디스크 구조와 데이터를 유지할 수 없다.

* 변환
  - List Disk (디스크 목록 확인)
  - Select Disk n (n=디스크 번호)
  - Convert Dynamic

■ 단순 볼륨
* 동적 디스크에서 사용 가능
* 하나의 디스크 공간을 나눈다
* 볼류 ㅁ수에 제한은 없다
* 확장 및 축소 가능
* 기본 디스크의 주 파티션과 같은 역할을 한다

* List Disk (디스크 목록 확인)
* Select Disk n (n=  디스크 번호)
* Create volume simple size = <크기>

■ 볼륨 확장 및 축소
* 주 파티션은 같은 디스크 공간에만 확장을 하였지만, 볼륨은 같은 디스크 공간 또는 다른 디스크 공간에 확장(스팬 볼륨) 가능
  - 볼륨 우 클릭 -> 볼륨 확장 및 축소

* 확장
  - Diskpart
  - List disk (디스크 목록 확인)
  - Select Disk n (n=디스크 번호)
  - Detail Disk (디스크 정보, 디스크에 생성된 볼륨 확인)
  - Select Volume n (n=파티션 번호)
  - Extend Size = <크기>
* 축소
  - Select Partition (n=파티션 번호)
  - Shrink Querymax (축소 가능한 용량 확인)
  - Shrink Desired=<크기>

■ 스팬 볼륨
* 동적 디스크 2개 이상 최대 32개까지 생성 가능
* 내결함성을 갖지 않는다
* 시스템 볼륨이나 부팅 볼륨이면 스팬 볼륨을 구성하지 못한다.
* 확장 및 축소 가능

* List Disk (디스크 목록 확인)
* Select Disk n (n=디스크 번호)
* Create Volume Simple Size=<Size>
* Extend Size = <Size> Disk=n (n=Disk 번호)

■ 스트라이프 볼륨 (Raid-0)
* 동적 디스크 2개 이상 최대 32개까지 생성 가능
* Windows에서 사용할 수 있는 모든 볼륨의 최적 성능 제공
* 내결함성을 갖지 않는다
* 확장 및 축소 불가능

* List Disk (디스크 목록 확인)
* Select Disk n (n=디스크 번호)
* Create Volume Stripe Size=<Size> disk=n,n,n...

■ 미러 볼륨 (Raid-1)
* 동적 디스크 2개 필요
* 기존의 단순 볼륨을 미러링한다
* 동일한 복사본 두 개를 만들어 중복성 제공 (내결함성)
* 확장 및 축소 불가능

* List Disk (디스크 목록 확인)
* Select Disk n (n=디스크 번호)
* Detail Disk (디스크 정보, 디스크에 생성된 볼륨 확인)
* Select Volume n (n=볼륨 번호)
* Add Disk n (n=디스크 번호)

* 미러볼륨 (Raid-1) 복구 방법
  - 볼륨 우클릭 >> 미러 제거 >> 없는 디스크 선택
    (미러를 제거하면 단순 볼륨으로 남으며, 데이터 손실 없이 사용 가능하다.

■ Raid-5
* 동적 디스크 3개 이상 32개 이하 필요
* 추가 디스크 하나의 비용만으로 내결함성 제공
* 오류 검사를 위하여 Parity Bit를 사용
* 확장 및 축소 불가능

* List Disk (디스크 목록 확인)
* Select Disk n (n=디스크 번호)
* Create Volume Raid Size=<Size> Disk=n,n,n...
















